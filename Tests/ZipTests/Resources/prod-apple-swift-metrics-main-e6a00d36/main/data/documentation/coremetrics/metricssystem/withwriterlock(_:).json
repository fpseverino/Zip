{"hierarchy":{"paths":[["doc:\/\/CoreMetrics\/documentation\/CoreMetrics","doc:\/\/CoreMetrics\/documentation\/CoreMetrics\/MetricsSystem"]]},"primaryContentSections":[{"declarations":[{"languages":["swift"],"platforms":["macOS"],"tokens":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"withWriterLock"},{"kind":"text","text":"<"},{"text":"T","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"_","kind":"externalParam"},{"kind":"text","text":" "},{"text":"body","kind":"internalParam"},{"kind":"text","text":": () "},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"rethrows","kind":"keyword"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","text":"T"}]}],"kind":"declarations"},{"parameters":[{"name":"body","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The block to execute while holding the lock."}]}]}],"kind":"parameters"},{"kind":"content","content":[{"level":2,"type":"heading","text":"Return Value","anchor":"return-value"},{"type":"paragraph","inlineContent":[{"text":"The value returned by the block.","type":"text"}]}]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/CoreMetrics\/documentation\/CoreMetrics\/MetricsSystem\/withWriterLock(_:)"},"abstract":[{"text":"Acquire a writer lock for the duration of the given block.","type":"text"}],"kind":"symbol","sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"metadata":{"roleHeading":"Type Method","externalID":"s:11CoreMetrics0B6SystemO14withWriterLockyxxyKXEKlFZ","role":"symbol","modules":[{"name":"CoreMetrics"}],"title":"withWriterLock(_:)","fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"withWriterLock","kind":"identifier"},{"text":"<","kind":"text"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">(() "},{"kind":"keyword","text":"throws"},{"text":" -> ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"kind":"keyword","text":"rethrows"},{"kind":"text","text":" -> "},{"text":"T","kind":"typeIdentifier"}],"symbolKind":"method","remoteSource":{"url":"https:\/\/github.com\/apple\/swift-metrics\/blob\/main\/Sources\/CoreMetrics\/Metrics.swift#L599","fileName":"Metrics.swift"}},"variants":[{"paths":["\/documentation\/coremetrics\/metricssystem\/withwriterlock(_:)"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"doc://CoreMetrics/documentation/CoreMetrics/MetricsSystem":{"abstract":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"MetricsSystem"},{"type":"text","text":" is a global facility where the default metrics backend implementation ("},{"code":"MetricsFactory","type":"codeVoice"},{"type":"text","text":") can be"},{"type":"text","text":" "},{"text":"configured. ","type":"text"},{"type":"codeVoice","code":"MetricsSystem"},{"type":"text","text":" is set up just once in a given program to set up the desired metrics backend"},{"type":"text","text":" "},{"type":"text","text":"implementation."}],"kind":"symbol","url":"\/documentation\/coremetrics\/metricssystem","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"MetricsSystem"}],"identifier":"doc:\/\/CoreMetrics\/documentation\/CoreMetrics\/MetricsSystem","role":"symbol","navigatorTitle":[{"text":"MetricsSystem","kind":"identifier"}],"type":"topic","title":"MetricsSystem"},"doc://CoreMetrics/documentation/CoreMetrics/MetricsSystem/withWriterLock(_:)":{"fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"withWriterLock"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"kind":"text","text":">(() "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"text":"T","kind":"typeIdentifier"},{"kind":"text","text":") "},{"kind":"keyword","text":"rethrows"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","text":"T"}],"identifier":"doc:\/\/CoreMetrics\/documentation\/CoreMetrics\/MetricsSystem\/withWriterLock(_:)","kind":"symbol","url":"\/documentation\/coremetrics\/metricssystem\/withwriterlock(_:)","abstract":[{"text":"Acquire a writer lock for the duration of the given block.","type":"text"}],"title":"withWriterLock(_:)","type":"topic","role":"symbol"},"doc://CoreMetrics/documentation/CoreMetrics":{"type":"topic","kind":"symbol","url":"\/documentation\/coremetrics","role":"collection","abstract":[{"type":"text","text":"A Metrics API package for Swift."}],"title":"CoreMetrics","identifier":"doc:\/\/CoreMetrics\/documentation\/CoreMetrics"}}}